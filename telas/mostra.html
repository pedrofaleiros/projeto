<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Professores Online</title>
        <style>
            body{
                text-align: center;
                margin: auto;
                background-color: rgb(30, 40, 50);
                color: aliceblue;
            }

            button{
                border-radius: 15px;
                font-size: 20px;
                padding: 10px;
                
            }

            button:hover{
                color: aliceblue;
                background-color: rgb(30, 40, 50);
            }

            button:active{
                background-color:rgb(60, 60, 60);
                padding: 12px;
                color: rgb(255, 153, 0);
            }

            a{
                margin: 15px;
                margin-top: 25px;
                color:rgb(133, 215, 07);
            }

            #voltar{
                background-color: rgb(20, 25, 30);
                padding: 7px;
                text-decoration: none;
                border-radius: 7px;
                margin: 10px;
            }

            #voltar:hover{
                background-color: rgb(0, 5, 10);
            }

            #total{
                color:red;
            }

            ul{
                text-align: center;
            }

            li{
                list-style: none;
                border: solid 2px rgb(240, 240, 240);
                margin: 5px 15px;
                padding: 10px;
                font-size: 20px;
                border-radius: 10px;
            }

            p{
                border: solid 2px rgb(240, 240, 240);
                background-color: rgb(20, 25, 30);
                font-size: 30px;
                padding: 5px 0px;
            }

            h3{
                color: rgb(255, 153, 0);
            }

        </style>

    </head>

    <body>
        <a href="index.html" id="voltar">Página Principal</a>

        <h1 id='texto'>texto aqui</h1>
        <button onclick="mostrar()">QuickSort</button>
        <button onclick="mostrar()">BubbleSort</button>

        <h2 id="total"></h2>
        <h2 id="tempo"></h2>

        <ul id="pessoas">

        </ul>

        <script>
                    
        function mostra_na_tela(dados, num_cadastros){
            
            let pessoas = document.getElementById('pessoas')
            for(let i = 0; i < num_cadastros; i += 1){
                let item = document.createElement('li')
                let nome = document.createElement('p')
                let preco = document.createElement('h3')

                nome.innerHTML = `${dados[i]['nome']}`
                preco.innerHTML = `Preço: R$${dados[i]['preco']}`
                
                item.appendChild(nome)
                
                item.innerHTML = item.innerHTML + `${dados[i]['materia']} - Contato: ${dados[i]['contato']}`
                item.appendChild(preco)
                
                pessoas.appendChild(item)
            }
        }
        
        function mostrar(){

            const url = 'http://0.0.0.0:8000/professor'

            fetch('http://localhost:8000/professor')
            .then(function(response){
                return response.json();
            })
            .then(function(data){
                var dados = data['resposta']
                let tempo = data['tempo']
                let n_cad = data['numero']
                
                let texto_tempo = document.getElementById('tempo')
                let num_cadastros = document.getElementById('total')

                mostra_na_tela(dados, n_cad)

                texto_tempo.innerText = tempo + ' segundos para ordenar'
                num_cadastros.innerText = n_cad + ' cadastros'

                
            });
        }

        </script>
    </body>
</html>